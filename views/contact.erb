<meta charset="utf-8">
<style media="screen">
.error {
  opacity: 0;
}
</style>

<div class="contact page top">
  <div class="container ">
    <div class="well">
      <h2>Contact</h2>
      <form action="javascript:check();" class="form-horizontal" id='my_form'>
        <fieldset disabled>
          <div class="form-group">
            <label class="col-sm-2 control-label" for="ip">Your IP
            </label>
            <div class="col-sm-10">
              <div class="input-group">
                <div class="input-group-addon">
                  <span aria-hidden="true" class="glyphicon glyphicon-signal"></span>
                </div>
                <input class="form-control" disabled id="ip" name="ip" type="text" value="<%=request.ip%>">
              </div>
            </div>
          </div>
        </fieldset>
        <br>
        <div class="form-group">
          <label class="col-sm-2 control-label" for="name">Name</label>
          <div class="col-sm-10">
            <div class="input-group">
              <div class="input-group-addon">
                <span aria-hidden="true" class="glyphicon glyphicon-user"></span>
              </div>
              <input class="form-control" data-required='' id="name" name="name" placeholder="First & Last Name" type="text">
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label" for="email">Email</label>
          <div class="col-sm-10">
            <div class="input-group">

              <div class="input-group-addon">
                <span aria-hidden="true" class="glyphicon glyphicon-envelope"></span>
              </div>

              <input class="form-control" data-regex="email" data-require="" data-title="Please use valid Email address" id="email" name="email" placeholder="example@domain.com" type="email">
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label" for="message">Message</label>
          <div class="col-sm-10">
            <div class="input-group">

              <div class="input-group-addon">
                <span aria-hidden="true" class="glyphicon glyphicon-pencil"></span>
              </div>
              <textarea class="form-control" data-required='' id="text" name="message" placeholder="Your message..." rows="4"></textarea>
            </div>
          </div>
        </div>
        <%test1=rand(20)%>
        <%test2=rand(20)%>
        <%sol=test1+test2%>
        <div class="form-group">
          <label class="col-sm-2 control-label" for="human"><%=test1%>
            +
            <%=test2%>
            = ?</label>
            <div class="col-sm-10">
              <div class="input-group">

                <div class="input-group-addon">
                  <span aria-hidden="true" class="glyphicon glyphicon-plus"></span>
                </div>
                <input class="form-control" data-regex="^<%=sol%>$" data-required='' id="human" name="human" placeholder="Your Answer" type="text">
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-10 col-sm-offset-2 ">

              <input class="btn btn-primary" id="submit" name="submit" style="width:200px" type="submit" value="Submit">

            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <script>
  $('form')
  .bootstrap3Validate(function (e, data) {
    e.preventDefault();
    $.ajax({
      type: "POST",
      url: "/mail",
      dataType: 'json',
      data: data,
      success: function () {
        $('#submit').prop('disabled', true)
        .val("Message sent")
        .addClass("disabled");

      }
    });
  });
  </script>
